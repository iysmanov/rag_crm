# Fitness Admin Bot (RAG + GPT-4 + CRM)

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è —Ñ–∏—Ç–Ω–µ—Å-—Å—Ç—É–¥–∏–∏ WAY2fit —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Retrieval-Augmented Generation (RAG), GPT-4 –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å CRM-—Å–∏—Å—Ç–µ–º–æ–π.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üìÖ –ü–æ–∫–∞–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∑–∞–Ω—è—Ç–∏–π
- üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∞–≤–∏–ª–∞—Ö —Å—Ç—É–¥–∏–∏
- üë§ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤
- üí¨ –û—Ç–≤–µ—Ç—ã –Ω–∞ –æ–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
- üì∏ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (OCR)
- üîç –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
- üìù –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é GPT-4
- üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM-—Å–∏—Å—Ç–µ–º–æ–π (MS SQL Server)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –∫–æ–¥**

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install -r requirements.txt
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ `.env`:**
   ```
   # OpenAI –∏ Telegram
   OPENAI_API_KEY=sk-...
   TELEGRAM_BOT_TOKEN=123456:ABC...

   # CRM Database
   CRM_SERVER=localhost
   CRM_DATABASE=fitness_crm
   CRM_USERNAME=sa
   CRM_PASSWORD=your_password

   # –ü—É—Ç–∏
   KNOWLEDGE_BASE_PATH=knowledge_base
   LOG_PATH=log/bot.log
   ```

4. **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö CRM:**
   - –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ MS SQL Server
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü (—Å–º. `database/schema.sql`)
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

5. **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π:**
   - –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `knowledge_base/`
   - –î–æ–±–∞–≤—å—Ç–µ markdown-—Ñ–∞–π–ª—ã —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç—É–¥–∏–∏

6. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   python main.py
   ```

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
- `/start` - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- `/schedule` - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- `/rules` - –ø—Ä–∞–≤–∏–ª–∞ —Å—Ç—É–¥–∏–∏
- `/check` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
fitness_admin_bot/
‚îú‚îÄ‚îÄ main.py                # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª Telegram-–±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ crm_database.py        # –†–∞–±–æ—Ç–∞ —Å CRM (MS SQL)
‚îú‚îÄ‚îÄ rag_engine.py          # –ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
‚îú‚îÄ‚îÄ ocr_engine.py          # –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
‚îú‚îÄ‚îÄ gpt_engine.py          # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ (GPT-4)
‚îú‚îÄ‚îÄ logger.py              # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile            # –î–ª—è Docker
‚îú‚îÄ‚îÄ .env                  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–Ω–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
‚îú‚îÄ‚îÄ knowledge_base/       # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (markdown)
‚îî‚îÄ‚îÄ log/                  # –õ–æ–≥–∏ —Ä–∞–±–æ—Ç—ã
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `Classes` - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π
- `Trainers` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—Ä–µ–Ω–µ—Ä–∞—Ö
- `Rooms` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ª–∞—Ö
- `Clients` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö
- `Memberships` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞—Ö
- `StudioRules` - –ø—Ä–∞–≤–∏–ª–∞ —Å—Ç—É–¥–∏–∏
- `ClassBookings` - –∑–∞–ø–∏—Å–∏ –Ω–∞ –∑–∞–Ω—è—Ç–∏—è

## Docker
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ Docker:
```bash
docker build -t fitness-bot .
docker run -d --env-file .env fitness-bot
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- MS SQL Server
- OpenAI API –∫–ª—é—á
- Telegram Bot Token

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å: t.me/your_support
